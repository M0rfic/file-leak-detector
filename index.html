<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">










<html>
  <head>
    <title>File Leak Detector - </title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/1024px.css");
      @import url("./css/site.css");
    </style>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      </head>
  <body>
    <div id="wrap2"><div id="wrap">
    <div id="header">
      <p id="toplinks">Skip to: <a href="#content">Content</a> | <a href="#sidebar">Navigation</a> | <a href="#footer">Footer</a></p>
		
            <h1 id="bannerLeft">
          <a href="./">
    
            File Leak Detector
    
            </a>
        </h1>
                
      <p id="slogan">File Leak Detector</p>
    </div>
    <div id="breadcrumbs">
      <div class="xright">  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>

    <div id="sidebar">
      <div id="navcolumn">
              <h2>
          File Leak Detector
        </h2><ul>
              
    <li class="none">
              <strong>Introduction</strong>
        </li>
              
    <li class="none">
              <a href="http://search.maven.org/remotecontent?filepath=org/kohsuke/file-leak-detector/1.9-SNAPSHOT/file-leak-detector-1.9-SNAPSHOT-jar-with-dependencies.jar">Download</a>
        </li>
              
    <li class="none">
              <a href="apidocs/">Javadoc</a>
        </li>
          </ul>
      <h2>
          Project Info
        </h2><ul>
              
    <li class="none">
              <a href="https://github.com/kohsuke/file-leak-detector/issues">Issue tracker</a>
        </li>
              
    <li class="none">
              <a href="https://github.com/kohsuke/file-leak-detector">Source code</a>
        </li>
          </ul>
        </div>
    </div>
    <div id="content">
      <div id="contentBox">
        <div class="section">
<h2>What is this?<a name="What_is_this"></a></h2>
<p>This little Java agent is a tool that keeps track of where/when/who opened files in your JVM. You can have the agent trace these operations to find out about the access pattern or handle leaks, and dump the list of currently open files and where/when/who opened them.</p>
<p>In addition, upon &quot;too many open files&quot; exception, this agent will dump the list, allowing you to find out where a large number of file descriptors are in use.</p>
<p>For a long running application, you can have it run a mini HTTP server to access the information on demand. This tool can be also loaded as a regular dependency jar and the list of the table can be <a class="externalLink" href="http://file-leak-detector.kohsuke.org/apidocs/index.html?org/kohsuke/file_leak_detector/Listener.html">programmatically accessed</a>.</p></div>
<div class="section">
<h2>Usage<a name="Usage"></a></h2>
<p>Without any option, this tool silently records file open/close operations and upon &quot;too many open files&quot; exception, the table will be dumped to stderr.</p>
<div>
<pre>$ java -javaagent:path/to/file-leak-detector.jar ...your usual Java args follows...</pre></div>
<p>There are several options you can pass to the agent. For example, to dump the open file handles when the total number reaches 200, you can do the following:</p>
<div>
<pre>$ java -javaagent:path/to/file-leak-detector.jar=threshold=200 ...your usual Java args follows...</pre></div>
<p>Or have it run a mini HTTP server so that you can access the information from your browser, do the followind and open http://localhost:19999/:</p>
<div>
<pre>$ java -javaagent:path/to/file-leak-detector.jar=http=19999 ...your usual Java args follows...</pre></div>
<p>Use the help option to see the help screen for the complete list of options.</p>
<div>
<pre>$ java -javaagent:path/to/file-leak-detector.jar=help</pre></div></div>
<div class="section">
<h2>Attaching after VM startup<a name="Attaching_after_VM_startup"></a></h2>
<p>When run as a regular jar file, this tool can be used to attach the detector into other JVMs on the same system. You specify the JVM by its PID. The following example attaches the file leak detector to the pid 1500. Options can be specified in the 2nd argument in the same format you do to the agent.</p>
<div>
<pre>$ java -jar path/to/file-leak-detector.jar 1500 threshold=200,strong</pre></div></div>
      </div>
    </div>
    <div id="footer">
      <div class="xright">&#169;  
          2017
    
          <a href="http://kohsuke.org/">Kohsuke Kawaguchi</a> and other contributors
          
  

  
  
  &nbsp;| Last Published: 2017-12-15
  &nbsp;| Version: 1.9-SNAPSHOT
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    </div></div>
  </body>
</html>
